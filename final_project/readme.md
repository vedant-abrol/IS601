

```markdown
# Final Project - REST API Backend for Dosa Restaurant

## Project Overview
This project implements a **REST API backend** for a dosa restaurant using **FastAPI** and **SQLite**. It provides CRUD (Create, Read, Update, Delete) operations for three key entities:
- **Customers**
- **Items (Menu)**
- **Orders**

The API uses an SQLite database (`db.sqlite`) for data storage, with relationships managed using primary and foreign keys. 

### Files in the Project
1. **`init_db.py`**: Initializes the SQLite database and populates tables with sample data.
2. **`main.py`**: Contains the FastAPI code to handle CRUD operations for customers, items, and orders.
3. **`customers.json`**: Sample data for customers.
4. **`items.json`**: Sample data for menu items.
5. **`db.sqlite`**: SQLite database file (generated by running `init_db.py`).
6. **`example_orders.json`**: Example orders for testing.

---

## Endpoints
The following endpoints are implemented:

### Customers Endpoints
| Method | Path                  | Description                                  |
|--------|-----------------------|----------------------------------------------|
| POST   | `/customers/`         | Create a new customer.                      |
| GET    | `/customers/{id}`     | Retrieve a customer by ID.                  |
| PUT    | `/customers/{id}`     | Update a customer's details by ID.          |
| DELETE | `/customers/{id}`     | Delete a customer by ID.                    |
| GET    | `/customers/`         | List all customers (supports pagination).   |

### Items Endpoints
| Method | Path                  | Description                                  |
|--------|-----------------------|----------------------------------------------|
| POST   | `/items/`             | Create a new item.                          |
| GET    | `/items/{id}`         | Retrieve an item by ID.                     |
| PUT    | `/items/{id}`         | Update an item's details by ID.             |
| DELETE | `/items/{id}`         | Delete an item by ID.                       |
| GET    | `/items/`             | List all items (supports pagination).       |

### Orders Endpoints
| Method | Path                  | Description                                  |
|--------|-----------------------|----------------------------------------------|
| POST   | `/orders/`            | Create a new order.                         |
| GET    | `/orders/{id}`        | Retrieve an order by ID.                    |
| PUT    | `/orders/{id}`        | Update an order's details by ID.            |
| DELETE | `/orders/{id}`        | Delete an order by ID.                      |
| GET    | `/orders/`            | List all orders (supports pagination).      |
| POST   | `/upload-orders/`     | Upload a JSON file containing orders.       |

---

## Database Schema
The database schema consists of three tables:

### Customers Table
| Column   | Type      | Constraints            |
|----------|-----------|------------------------|
| id       | INTEGER   | Primary Key, Auto-Increment |
| name     | TEXT      | Not Null               |
| email    | TEXT      | Unique, Not Null       |

### Items Table
| Column   | Type      | Constraints            |
|----------|-----------|------------------------|
| id       | INTEGER   | Primary Key, Auto-Increment |
| name     | TEXT      | Not Null               |
| description | TEXT   | Optional               |
| price    | REAL      | Not Null               |

### Orders Table
| Column       | Type      | Constraints            |
|--------------|-----------|------------------------|
| id           | INTEGER   | Primary Key, Auto-Increment |
| customer_id  | INTEGER   | Foreign Key (customers.id), Not Null |
| item_id      | INTEGER   | Foreign Key (items.id), Not Null |
| quantity     | INTEGER   | Not Null               |
| order_date   | TEXT      | Not Null               |

---

## Setup Instructions
### Prerequisites
1. Python 3.9 or later installed on your system.
2. Install the following Python libraries:
   ```bash
   pip install fastapi uvicorn sqlite3 pydantic python-multipart
   ```

### Steps to Run the Project
1. Clone the repository:
   ```bash
   git clone https://github.com/vedant-abrol/IS601.git
   cd IS601/final_project
   ```

2. Initialize the SQLite database:
   ```bash
   python init_db.py
   ```

3. Start the FastAPI server:
   ```bash
   uvicorn main:app --reload
   ```

4. Access the API documentation at:
   - Swagger UI: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
   - ReDoc: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

5. Use the Swagger UI to test the endpoints and perform CRUD operations.

---

## Testing the Endpoints
1. **Create Customers**:
   - Use `POST /customers/` with a body like:
     ```json
     {
       "name": "John Doe",
       "email": "john@example.com"
     }
     ```

2. **Retrieve Customers**:
   - Use `GET /customers/1` to retrieve the customer with ID `1`.

3. **List Customers**:
   - Use `GET /customers/` to list all customers with optional pagination.

4. **Create Items**:
   - Use `POST /items/` with a body like:
     ```json
     {
       "name": "Masala Dosa",
       "description": "Crispy dosa stuffed with spiced potatoes",
       "price": 6.99
     }
     ```

5. **Create Orders**:
   - Use `POST /orders/` with a body like:
     ```json
     {
       "customer_id": 1,
       "item_id": 1,
       "quantity": 2,
       "order_date": "2024-12-06"
     }
     ```

6. **Upload Orders**:
   - Use `POST /upload-orders/` to upload a JSON file containing orders.

---

## Features and Extra Credit
- **Pagination**: All list endpoints support pagination using `limit` and `offset` query parameters.
- **Filter Parameters**: List endpoints (e.g., `/items/`) can be filtered based on logical attributes like price ranges.

---

## Project Structure
```
final_project/
│
├── customers.json          # Sample customer data
├── items.json              # Sample items data
├── example_orders.json     # Example orders for testing
├── init_db.py              # Database initialization script
├── main.py                 # FastAPI backend
├── db.sqlite               # SQLite database (auto-generated)
└── README.md               # Project documentation
```

---

## Version Control
- The project is hosted in the **`FinalProject`** branch of the GitHub repository:
  [https://github.com/vedant-abrol/IS601/tree/FinalProject](https://github.com/vedant-abrol/IS601/tree/FinalProject)
- Includes multiple commits demonstrating development progress:
  - Commit 1: Set up database schema and initial scripts.
  - Commit 2: Added FastAPI endpoints for CRUD operations.
  - Commit 3: Finalized features and added README.

---

## License
This project is for educational purposes only.

---

## Contributors
- **Vedant Abrol**
```
